version: '3.8'

services:
  backend:
    build: .
    ports:
      - "3001:3001"
    environment:
      - PORT=3001
      - ZCASH_RPC_URL=${ZCASH_RPC_URL}
      - ZCASH_RPC_API_KEY=${ZCASH_RPC_API_KEY}
      - STARKNET_RPC_URL=${STARKNET_RPC_URL}
      - STARKNET_ACCOUNT_ADDRESS=${STARKNET_ACCOUNT_ADDRESS}
      - STARKNET_PRIVATE_KEY=${STARKNET_PRIVATE_KEY}
      - STARKNET_PUBLIC_KEY=0x4a31cf6d293591d940973193dee3252eaf1bff72f664f6f33dce054ef61f7d2
      - CONTRACT_ADDRESS=${CONTRACT_ADDRESS}
    volumes:
      # Persist verification data
      - ./frontend/src/data:/app/frontend/src/data
    restart: unless-stopped
